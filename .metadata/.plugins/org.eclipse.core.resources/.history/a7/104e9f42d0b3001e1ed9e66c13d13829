package pizzeria;

import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.SQLException;
import java.sql.Statement;

public class listarPedido {
	
	public static void listandoPedidos(Connection conexion) {
		Statement sentencia = null;
		ResultSet resultado = null;
		
		try {
			sentencia = conexion.createStatement();
			String consultaSQL = "select u.nombre , u.apellido, pi.nombre from pedido p, usuario u, pizza pi where p.idpizza=pi.id and p.ideusuario=u.id";
			resultado = sentencia.executeQuery(consultaSQL);
			while (resultado.next()) {
				String col01 = resultado.getString("u.nombre");
				String col02 = resultado.getString("u.apellido");
				String col03 = resultado.getString("pi.nombre");
				System.out.println(col01 + " " + col02 + " " + col03);
			}
		} catch (SQLException e) {
            e.printStackTrace();
        } finally {
            try {
                if (resultado != null) resultado.close();
                if (sentencia != null) sentencia.close();
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
    }
}